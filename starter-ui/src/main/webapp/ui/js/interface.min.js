/*! Payara Pattern Library version: 0.75.0 */
/*! DO NOT MODIFY THIS FILE, CHANGES WILL BE OVERWRITTEN! */
function dispatch_resize_end(){var t;try{t=new Event("resize-end")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("resize-end",!0,!0,{})}window.dispatchEvent(t)}document.getElementsByTagName("html")[0].className=document.getElementsByTagName("html")[0].className.replace(/no-js/,"").trim()+" js";var create_resize_end_event=function(){var t;window.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout((function(){dispatch_resize_end()}),100)}))};create_resize_end_event();var blinky_addIcon=function(t,e){if(!t)return!1;const s=document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.setAttribute("class","icon"),s.setAttribute("width","1em"),s.setAttribute("height","1em"),s.setAttribute("viewbox","0 0 16 16"),s.setAttribute("aria-hidden","true"),s.setAttribute("focusable","false"),"string"==typeof t){const i=document.createElementNS("http://www.w3.org/2000/svg","use");i.setAttributeNS("http://www.w3.org/1999/xlink","href",ui_path({el:e})+"ui/images/icons.svg#icon-"+t),s.append(i)}else for(const[i,r]of t.entries()){const t=document.createElementNS("http://www.w3.org/2000/svg","use");t.setAttributeNS("http://www.w3.org/1999/xlink","href",ui_path({el:e})+"ui/images/icons.svg#icon-"+r.icon),t.setAttribute("class",r.css),s.append(t)}return s};const Blinky_cookie=function(){this.get_eTLD1=t=>{const e=document.location.hostname;for(let s of t)if(/^[a-z.]*$/.test(s)){"."!==s.substring(0,1)&&(s="."+s);const t=new RegExp(s+"$"),i=e.split(t);if(i.length>1)return i[0].substr(i[0].lastIndexOf("."),i[0].length)+s}return!1},this.set=t=>{if(!t.name||!/^[A-Za-z0-9-_]*$/.test(t.name)||!/^[A-Za-z0-9-_!#$&()\[\]*+.:<>?@^`{}|~]*$/.test(t.val))return!1;let e=t.name+"=";t.val&&(e+=t.val);const s=new Date;if(!isNaN(t.expiry_days)&&t.expiry_days>0?(s.setTime(s.getTime()+24*t.expiry_days*60*60*1e3),e+=";expires="+s.toUTCString()):!isNaN(t.expiry_days)&&t.expiry_days<0&&(s.setTime(s.getTime()-864e5),e+=";expires="+s.toUTCString()),e+=";path=",e+=t.path&&/^[A-Za-z0-9-_\/]*$/.test(t.path)?t.path:"/",t.hostname){let s="string"==typeof t.hostname?new Array(t.hostname):t.hostname;const i=this.get_eTLD1(s);e+=i?";Domain="+i+";SameSite=None;Secure":";SameSite=Lax"}else t.domain&&/^[A-Za-z0-9-.]*$/.test(t.domain)?e+=";Domain="+t.domain+";SameSite=None;Secure":e+=";SameSite=Lax";document.cookie=e},this.get=t=>{if(!t||!document.cookie)return!1;const e=t.name||t;let s=document.cookie.split("; ").find((t=>t.startsWith(e+"=")));return!!s&&s.split("=")[1]}},Blinky_wrap_content=function(t){let e=[];for(let s of t.el.childNodes)e.push(s);for(let s of e)t.wrapper.append(s);(t.target?t.target:t.el).append(t.wrapper)};class BlinkyScrollHints extends HTMLElement{constructor(){super()}__scroll_pos_checker(t){window.requestAnimationFrame((function(){t.dataset.shadow_top=t.scrollTop>0?"1":"0",t.dataset.shadow_bottom=Math.abs(t.scrollHeight-t.clientHeight-t.scrollTop)>=1?"1":"0"}))}__scrolling(t){this.__scroll_pos_checker(t.target)}connectedCallback(){this.classList.add("js__scroll");const t=document.createElement("span");t.classList.add("js__shadow"),this.prepend(t);const e=new WeakMap;this.resize_observer=new ResizeObserver((t=>{const s=t[0];clearTimeout(e.get(s.target)),e.set(s.target,setTimeout((()=>{this.removeEventListener("scroll",this.__scrolling),this.scrollHeight>=s.contentBoxSize[0].blockSize&&(this.addEventListener("scroll",this.__scrolling),this.__scroll_pos_checker(this))}),150))})),this.resize_observer.observe(this);this.mut_observer=new MutationObserver(((t,e)=>{for(const e of t)this.__scroll_pos_checker(this)})),this.mut_observer.observe(this,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0}),this.__scroll_pos_checker(this)}disconnectedCallback(){this.removeEventListener("scroll",this.__scrolling),this.resize_observer.disconnect(),this.mut_observer.disconnect()}}customElements.define("blinky-scroll-hints",BlinkyScrollHints);var grid_to_column=function(){var t=function(t){var e,s,i;new ResizeObserver((e=function(e){e.target.classList.remove(t.class),e.target.offsetTop<e.target.lastElementChild.offsetTop&&e.target.classList.add(t.class)},s=50,i=0,function(t){var r=Array.prototype.slice.call(t);r.unshift(this),clearTimeout(i),i=setTimeout(e.bind.apply(e,r),s)})).observe(t.item)};return{init:function(e){if(!e||!e.selector||!e.toggleClass)return!1;var s=document.querySelectorAll(e.selector);if(0!==s.length){e.items=s;for(var i=0;i<e.items.length;i++)t({item:e.items[i],class:e.toggleClass})}}}}(),ui_path=function(t){var e={el:document.getElementsByTagName("html")[0],tree:!1};if(void 0!==t&&"el"in t){if("string"==typeof t.el)return"";e.el=t.el,"tree"in t&&(e.tree=t.tree)}var s=[];if((t=e).tree)for(parents=t.el;parents.parentNode;)parents.parentNode.tagName&&s.push(parents.parentNode),parents=parents.parentNode;else s.push(document.getElementsByTagName("html")[0]);t.el&&s.unshift(t.el);for(var i="",r=0;r<s.length;r++)if(s[r].hasAttribute("data-ui-path")){i=s[r].getAttribute("data-ui-path");break}return i},menu_wrap=function(){var t=!1,e=function(e){e.tagName||(e=document.querySelector(e)),window.addEventListener("load",(function(){s(e)})),t||(window.addEventListener("resize-end",(function(t){s(e)})),t=!0)},s=function(t){if(!t.children[t.children.length-2])return!1;t.classList.remove("js__main-menu--wrapped"),t.children[t.children.length-1].offsetLeft<=t.children[t.children.length-2].offsetLeft&&t.classList.add("js__main-menu--wrapped")};return{init:function(t){t=t||".js__main-menu";var s=document.querySelectorAll(t);if(0!==s.length)for(var i=0;i<s.length;i++)e(s[i])},setup:e,action:s}}();class BlinkySidebar extends HTMLElement{static get observedAttributes(){return["minimized"]}constructor(){super()}__wrap_contents(){let t=document.createElement("aside");t.setAttribute("class","sidebar");let e=[];for(let t of this.childNodes)e.push(t);for(let s of e)t.append(s);this.appendChild(t)}__add_toggle(){let t=this.querySelector(".sidebar__header");t||(t=document.createElement("header"),t.setAttribute("class","sidebar__header")),this.querySelector(".sidebar").prepend(t);const e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("class","button sidebar__toggle");const s=blinky_addIcon("sidebar",this);e.append(s);let i=this.getAttribute("toggle-label")||"Toggle Sidebar";const r=document.createElement("span");r.innerText=i,r.setAttribute("class","visually-hidden"),e.append(r),e.setAttribute("aria-expanded",!Number(this.getAttribute("minimized"))),t.prepend(e),e.addEventListener("click",this.__do_toggle.bind(this))}__do_toggle(){this.setAttribute("minimized",Number(!JSON.parse(this.getAttribute("minimized"))))}__set_mimimized_state(){this.querySelector(".sidebar__toggle").setAttribute("aria-expanded",!JSON.parse(this.getAttribute("minimized"))),this.cookie.set({name:this.id,val:this.getAttribute("minimized"),expiry_days:365,hostname:[".fish",".cloud"]})}__is_large_screen(){const t=window.matchMedia("(min-width: 60rem)");let e=this;return t.addEventListener("change",(function(t){t.matches||e.setAttribute("minimized","1")})),t.matches}__get_mimimized_state(){this.__is_large_screen()?this.cookie.get(this.id)&&this.setAttribute("minimized",this.cookie.get(this.id)):(this.setAttribute("minimized",1),this.cookie.set({name:this.id,val:this.getAttribute("minimized"),expiry_days:365,hostname:".fish"}))}__set_sidebar_height(){let t=this.querySelector(".sidebar");if(t){let e=0;try{e=document.querySelector(".page--sticky-header .page__header").offsetHeight}catch(t){}t.setAttribute("style","top: "+e+"px; max-height: calc(100vh - "+e+"px);")}}__sidebar_height(){if(!document.querySelector(".page--sticky-header .page__header"))return!1;const t=new WeakMap;let e=0;this.resize_observer=new ResizeObserver((s=>{const i=s[0];clearTimeout(t.get(i.target)),t.set(i.target,setTimeout((()=>{i.contentBoxSize[0].blockSize!==e&&this.__set_sidebar_height(),e=i.contentBoxSize[0].blockSize}),150))})),this.resize_observer.observe(document.querySelector(".page--sticky-header .page__header"))}connectedCallback(){this.classList.contains("js__sidebar")||(this.cookie=new Blinky_cookie,this.__wrap_contents(),this.getAttribute("toggle")&&this.id&&(this.__get_mimimized_state(),this.__add_toggle()),this.__sidebar_height()),this.classList.add("js__sidebar")}attributeChangedCallback(t,e,s){if(!this.classList.contains("js__sidebar")||e===s)return!1;"minimized"===t&&this.__set_mimimized_state()}}customElements.define("blinky-sidebar",BlinkySidebar);var tab_group=function(){var t=function(t){37==t.keyCode&&(this.previousElementSibling?this.previousElementSibling.focus():this.parentElement.lastElementChild.focus()),39==t.keyCode&&(this.nextElementSibling?this.nextElementSibling.focus():this.parentElement.firstElementChild.focus())},e=function(){var t=this.closest(".tab-group").querySelectorAll(".tab-group__tab"),e=this.closest(".tab-group").querySelectorAll(".tab-group__content");for(i=0;i<t.length;i++)t[i].setAttribute("aria-selected","false"),t[i].setAttribute("tabindex","-1"),e[i].classList.remove("tab-group__content--active");this.setAttribute("aria-selected","true"),this.removeAttribute("tabindex"),this.closest(".tab-group").querySelector('[aria-labelledby="'+this.getAttribute("id")+'"]').classList.add("tab-group__content--active")},s=function(s){var i=Date.now()+"-"+s.tab_num,r=s.tab_group.querySelectorAll(".tab-group__tab"),n=s.tab_group.querySelectorAll(".tab-group__content"),a=s.tab_group.hasAttribute("data-show-tab")?s.tab_group.getAttribute("data-show-tab"):0;for(a>=r.length&&(a=0),s.tab_group.querySelector(".tab-group__tabs").setAttribute("role","tablist"),x=0;x<r.length;x++)void 0===n[x]?r[x].setAttribute("hidden","hidden"):(r[x].setAttribute("role","tab"),r[x].setAttribute("aria-controls","tab-"+i+"-"+x+"-content"),r[x].setAttribute("id","tab-"+i+"-"+x+"-label"),n[x].setAttribute("role","tabpanel"),n[x].setAttribute("id","tab-"+i+"-"+x+"-content"),n[x].setAttribute("aria-labelledby","tab-"+i+"-"+x+"-label"),x===parseInt(a)?(r[x].setAttribute("aria-selected","true"),r[x].removeAttribute("tabindex"),n[x].classList.add("tab-group__content--active")):(r[x].setAttribute("aria-selected","false"),r[x].setAttribute("tabindex","-1"),n[x].classList.remove("tab-group__content--active")),r[x].addEventListener("click",e),r[x].addEventListener("keydown",t))};return{init:function(){var t=document.querySelectorAll(".tab-group");for(i=0;i<t.length;i++)s({tab_group:t[i],tab_num:i})}}}(),accordion=function(){var t=!1,e=function(e){var i=e.el.querySelectorAll(".accordion__content");if(0!==i.length){for(var r=1,n=0;n<i.length;n++)null==i[n].parentElement.querySelector(".accordion__toggle")?i[n].insertAdjacentHTML("beforebegin",'<button class="accordion__toggle button button--clear" aria-expanded="false" aria-controls="acc'+r+'" type="button"><svg class="icon icon--nav" width="1em" height="1em" viewBox="0 0 16 16" aria-hidden="true"><use href="'+e.icon+'ui/images/icons.svg#icon-menu-arrow"></use></svg><span class="visually-hidden">'+e.label+"</span></button>"):i[n].parentElement.querySelector(".accordion__toggle").setAttribute("aria-controls","acc"+r),i[n].setAttribute("id","acc"+r),i[n].setAttribute("aria-hidden","true"),r++;t||(document.addEventListener("click",s),t=!0)}},s=function(t){if(!t.target.closest(".accordion__toggle"))return!1;toggle="true"===t.target.getAttribute("aria-expanded"),t.target.setAttribute("aria-expanded",String(!toggle)),content="true"===t.target.parentElement.querySelector(".accordion__content").getAttribute("aria-hidden"),t.target.parentElement.querySelector(".accordion__content").setAttribute("aria-hidden",String(!content))};return{init:function(t){t=t||".accordion";var s=document.querySelectorAll(t);if(0!==s.length)for(var i=0;i<s.length;i++){var r=s[i].getAttribute("data-details-btn")?s[i].getAttribute("data-details-btn"):"";e({el:s[i],icon:ui_path({el:s[i]}),label:r})}},setup:e}}();class BlinkyCopybox extends HTMLElement{constructor(){super()}__create_button(){let t=this.getAttribute("button-label")||"Copy";const e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("class","button");let s=this.getAttribute("button-type")||"icon-and-text";if("text"!==s){const t=blinky_addIcon("copy",this);e.append(t)}let i="button__text";"icon"==s&&(i="visually-hidden");const r=document.createElement("span");return r.innerText=t,r.setAttribute("class",i),e.append(r),e}__upgrade_text(){const t=this.firstElementChild;t.setAttribute("tabIndex","0"),t.classList.add("copy-box__content","scroll")}__copy(){const t=this.firstElementChild,e=document.createElement("textarea");e.setAttribute("style","position: absolute; left: 9999px;"),e.textContent=t.textContent,this.append(e),e.select(),t.classList.add("copy-box__content--copied"),setTimeout((function(){t.classList.remove("copy-box__content--copied")}),500),document.execCommand("copy"),e.remove();let s=this.querySelector("use"),i=s.getAttribute("href").split("-");s.setAttribute("href",i[0]+"-tick"),setTimeout((function(){s.setAttribute("href",i[0]+"-"+i[1])}),1e3)}connectedCallback(){this.__upgrade_text();const t=this.__create_button();this.append(t),t.addEventListener("click",this.__copy.bind(this))}}customElements.define("blinky-copybox",BlinkyCopybox);var notification_toggle=function(){var t=!1,e=function(e){e.tagName||(e=document.querySelector(e)),e.classList.add("js__notification__button"),e.hasAttribute("aria-haspopup")||e.setAttribute("aria-haspopup","true"),e.hasAttribute("aria-expanded")||e.setAttribute("aria-expanded","false"),t||(document.addEventListener("mousedown",s),t=!0)},s=function(t){if(t.target.closest(".js__notification__button")){t.target.closest(".js__notification__button").classList.add("temp");var e=document.querySelectorAll(".js__notification__button:not(.temp)");if(e)for(var s=0;s<e.length;s++)e[s].setAttribute("aria-expanded","false");return t.target.closest(".js__notification__button").classList.remove("temp"),t.target.closest("[aria-haspopup]").setAttribute("aria-expanded","true"==t.target.closest("[aria-haspopup]").getAttribute("aria-expanded")?"false":"true"),!0}t.target.closest(".notifications--popup .notifications__panel")||document.querySelector(".js__notification__button[aria-expanded=true]")&&document.querySelector(".js__notification__button[aria-expanded=true]").setAttribute("aria-expanded","false")};return{init:function(t){t=t||".notification__button";var s=document.querySelectorAll(t);if(0!==s.length)for(var i=0;i<s.length;i++)e(s[i])},setup:e}}();class BlinkyShoutbox extends HTMLElement{static get observedAttributes(){return["b-close"]}constructor(){super()}__create_button(t){const e=document.createElement("button");if(e.setAttribute("class","button "+t.class),e.setAttribute("type","button"),t.icon){const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("class","icon"),s.setAttribute("width","1em"),s.setAttribute("height","1em"),s.setAttribute("viewbox","0 0 16 16"),s.setAttribute("aria-hidden","true"),s.setAttribute("focusable","false"),e.append(s);const i=document.createElementNS("http://www.w3.org/2000/svg","use");i.setAttributeNS("http://www.w3.org/1999/xlink","href",ui_path({el:this})+"ui/images/icons.svg#icon-"+t.icon),s.append(i)}const s=document.createElement("span");return s.setAttribute("class","icon"==t.type?"visually-hidden":"button__text"),s.innerText=t.label,e.append(s),e}__close_card(){let t=this.__set_speed();this.querySelector(".shoutbox__outer").setAttribute("style","--transision-duration: "+t+"ms"),this.classList.add("shoutbox--closing"),setTimeout((()=>{this.querySelector(".shoutbox__undo")?this.__show_undo():this.__remove_card()}),t)}__show_undo(){this.querySelector(".shoutbox__undo").classList.add("shoutbox__undo--show1"),setTimeout((()=>{this.querySelector(".shoutbox__undo").classList.add("shoutbox__undo--show2")}),1)}__remove_card(){this.remove()}__reopen_shoutbox(){this.classList.remove("shoutbox--closing"),this.querySelector(".shoutbox__undo").classList.remove("shoutbox__undo--show2"),this.querySelector(".shoutbox__undo").classList.remove("shoutbox__undo--show1"),this.cookieObj.set({name:this.getAttribute("b-cookie"),expiry_days:-1,path:"/",hostname:[".fish",".cloud"]})}__wrap_contents(t){let e=[];for(let t of this.childNodes)e.push(t);for(let s of e)t.append(s)}__set_speed(){let t=Math.floor(1.5*this.offsetHeight);return t<100?t=100:t>300&&(t=300),t}connectedCallback(){if(!this.classList.contains("js__shoutbox")){if(!this.getAttribute("b-cookie")||""==this.getAttribute("b-cookie"))return this.classList.add("shoutbox--disabled"),!1;this.cookieObj=new Blinky_cookie,"closed"===this.cookieObj.get({name:this.getAttribute("b-cookie")})&&this.__remove_card();let t=document.createElement("div");t.setAttribute("class","shoutbox__inner"),this.__wrap_contents(t);let e=document.createElement("div");e.setAttribute("class","shoutbox__outer"),this.appendChild(e),e.appendChild(t);let s=this.__create_button({type:"icon",icon:"cross",class:"button--clear shoutbox__close layout-hidden",label:"Close"});this.querySelector(".shoutbox__inner").prepend(s),s.addEventListener("click",(()=>{this.__close_card(),this.cookieObj.set({name:this.getAttribute("b-cookie"),val:"closed",expiry_days:this.getAttribute("b-expiry")||0,path:"/",hostname:".fish"})}));let i=this.querySelectorAll(".shoutbox__close-in-content");if(i)for(let t of i)t.addEventListener("click",(()=>{this.__close_card(),this.cookieObj.set({name:this.getAttribute("b-cookie"),val:"closed",expiry_days:this.getAttribute("b-expiry")||0,path:"/",hostname:".fish"})}));if(this.getAttribute("b-undo")){let t=this.__create_button({type:"text",class:"button--text shoutbox__undo",label:this.getAttribute("b-undo")});this.append(t),t.addEventListener("click",(()=>{this.__reopen_shoutbox()}))}}this.classList.add("js__shoutbox")}disconnectedCallback(){}attributeChangedCallback(t,e,s){this.classList.contains("js__shoutbox")||this.connectedCallback(),"b-close"===t&&"1"===s&&this.__close_card(this,this.speed)}}customElements.define("blinky-shoutbox",BlinkyShoutbox);var chart_colors={tango:"rgb(240, 152, 27)",midnight:"rgb(0, 44, 62)",smurf:"rgb(5, 152, 214)",basalt:"rgb(67, 68, 69)",concrete:"rgb(218, 224, 226)",coal:"rgb(23, 24, 24)"};class BlinkyToggleButton extends HTMLElement{static get observedAttributes(){return["toggled"]}constructor(){super()}__toggle_clicked(){this.setAttribute("toggled",Number(!JSON.parse(this.getAttribute("toggled"))))}__equalise_label_width(){let t=[];this.querySelector(".toggle__text").innerHTML=this.getAttribute("text-0"),t.push(this.querySelector(".toggle__text").offsetWidth),this.querySelector(".toggle__text").innerHTML=this.getAttribute("text-1"),t.push(this.querySelector(".toggle__text").offsetWidth),Math.max(...t)>1&&this.querySelector(".toggle__text").setAttribute("style","min-width: "+Math.max(...t)/10+"rem")}__build_toggle(){this.getAttribute("toggled")||this.setAttribute("toggled","0");let t=document.createElement("button"),e={id:"",class:""};if(this.getAttribute("button-class")&&(e.class=this.getAttribute("button-class")),this.getAttribute("button-id")&&(e.id=this.getAttribute("button-id")),this.querySelector("a")&&"A"===this.querySelector("a").tagName){let t=this.querySelector("a");!e.class&&t.getAttribute("class")&&(e.class=t.getAttribute("class")),!e.id&&t.id&&(e.id=t.id),t.remove()}e.id&&(t.id=e.id),t.setAttribute("class",e.class+" button--toggle"),t.classList.contains("button")||t.classList.add("button"),t.setAttribute("type","button"),this.append(t);const s=document.createElement("span");if(s.classList.add("toggle__text"),this.getAttribute("text-0")||this.setAttribute("text-0","Off"),this.getAttribute("text-1")||this.setAttribute("text-1","On"),t.classList.contains("button--small")){const e=document.createElement("span");e.classList.add("button__text"),Blinky_wrap_content({el:t,wrapper:e}),t=e}else s.classList.add("button__text");"icon-only"===this.getAttribute("type")&&s.classList.add("visually-hidden"),Blinky_wrap_content({el:t,wrapper:s}),this.__equalise_label_width();const i=this.getAttribute("icon-0")||"dot_outline",r=this.getAttribute("icon-1")||"dot",n=blinky_addIcon([{icon:i,css:"toggle__0"},{icon:r,css:"toggle__1"}],this);t.prepend(n)}__update_toggle(){const t=this.getAttribute("toggled")||"0";this.querySelector(".toggle__text").innerHTML=this.getAttribute("text-"+t)}connectedCallback(){this.__build_toggle(),this.classList.add("js__button--toggle"),this.__update_toggle(),this.querySelector(".button").addEventListener("click",(()=>{this.__toggle_clicked()}))}disconnectedCallback(){}attributeChangedCallback(t,e,s){if(!this.classList.contains("js__button--toggle")||e===s)return!1;"toggled"===t&&this.__update_toggle()}}customElements.define("blinky-toggle-button",BlinkyToggleButton);var menu=function(){var t=!1;function e(e){var i=e.getAttribute("data-menu-type")?e.getAttribute("data-menu-type"):"full";s({el:e,icon:ui_path({el:e}),type:i}),t||(document.addEventListener("click",n),t=!0)}var s=function(t){t.el.classList.contains("menu--horizontal")&&t.el.setAttribute("data-menu-behaviour","toggle");var e,s="";if(t.el.contains(t.el.querySelector(".menu__main-toggle"))&&(s=".menu__main-toggle + .menu__group"),"open"!==t.el.getAttribute("data-menu-behaviour")&&(""!==s&&(s+=", "),s+=".menu__item > .menu__group"),""!==s&&(e=t.el.querySelectorAll(s)),e&&0!==e.length){for(var r=0;r<e.length;r++)i({el:e[r],icon:t.icon,type:t.type});t.el.classList.add("js__menu")}},i=function(t){var e=t.el.parentElement.querySelector("*:first-child");if(t.el.parentNode.classList.contains("menu__item")){"split"!==t.type&&r(e);var s='<svg class="icon icon--nav" width="1em" height="1em" viewBox="0 0 16 16" aria-hidden="true"><use href="'+t.icon+'ui/images/icons.svg#icon-menu-arrow"></use></svg>';"split"!==t.type?e.insertAdjacentHTML("beforeend",s):e.insertAdjacentHTML("afterend",'<button class="button menu__split-button">'+s+'<span class="visually-hidden">Toggle Submenu</span></button>')}else t.el.parentNode.classList.add("menu--dropdown");var i="split"===t.type&&"A"===e.tagName?e.nextSibling:e;i.setAttribute("aria-haspopup","true"),i.setAttribute("aria-expanded",e.classList.contains("menu--expanded")?"true":"false")},r=function(t){var e="";if(t.hasAttribute("data-clone-label")?e=t.getAttribute("data-clone-label"):t.closest(".menu").hasAttribute("data-clone-label")&&(e=t.closest(".menu").getAttribute("data-clone-label")),""!==e){var s=t.cloneNode(!0),i=t.parentNode.cloneNode(!1);s.hasAttribute("aria-expanded")&&s.removeAttribute("aria-expanded"),s.hasAttribute("aria-current")&&s.removeAttribute("aria-current"),s.classList.remove("menu__current-parent"),s.classList.add("menu--clone");var r=s.querySelector(".menu__text").innerText;r=r.replace(/\r?\n|\r/g,""),e.indexOf(".")>-1?s.querySelector(".menu__text").innerText=e.replace(/\./,r):s.querySelector(".menu__text").innerText=e,i.appendChild(s),t.parentNode.querySelector(".menu__group > *:first-child").insertAdjacentElement("beforebegin",i)}},n=function(e){t=!0;var s=e.target;if(e.target.closest(".menu")&&!e.target.closest("[aria-haspopup]")){if(!e.target.classList.contains("menu"))return!1;s=e.target.parentNode}e.target.closest(".menu__content[aria-haspopup]")&&e.target.closest(".menu[data-clone-label]")&&e.preventDefault();var i=a(s);if(0!==i.length)for(var r=0;r<i.length;r++)i[r].setAttribute("aria-expanded","false"),i[r].classList.remove("menu__group--boundary"),i[r].closest(".menu__item")&&i[r].closest(".menu__item").querySelector(".menu__content").classList.remove("menu--expanded");e.target.closest(".menu [aria-haspopup]")&&(e.target.closest("[aria-haspopup]").setAttribute("aria-expanded","true"==e.target.closest("[aria-haspopup]").getAttribute("aria-expanded")?"false":"true"),e.target.closest(".menu__item")&&e.target.closest(".menu__item").querySelector(".menu__content").classList.toggle("menu--expanded"),e.target.closest("[aria-haspopup]").classList.remove("menu__group--boundary"),e.target.closest("[aria-haspopup]").nextElementSibling.getBoundingClientRect().right>e.target.closest(".menu").parentNode.getBoundingClientRect().right&&e.target.closest("[aria-haspopup]").classList.add("menu__group--boundary"))},a=function(t){if(t.classList.contains("menu__item"))return!1;var e;t.closest(".menu")&&(t.closest(".menu").setAttribute("menu-current",""),"toggle"==t.closest(".menu").getAttribute("data-menu-behaviour")&&(null!==t.closest(".menu__group")&&t.closest(".menu__group").setAttribute("menu-scope",""),null!==t.closest("[aria-haspopup]")&&t.closest("[aria-haspopup]").setAttribute("menu-ignore","")));e=document.querySelectorAll('.menu--dropdown:not([menu-current]) [aria-expanded="true"], .menu--horizontal:not([menu-current]) [aria-expanded="true"], [menu-scope] [aria-expanded="true"]:not([menu-ignore])');try{t.closest(".menu").removeAttribute("menu-current"),t.closest(".menu__group").removeAttribute("menu-scope"),t.closest("[aria-haspopup]").removeAttribute("menu-ignore")}catch(t){}return e};return{init:function(t){t=t||".menu";var s=document.querySelectorAll(t);if(0!==s.length)for(var i=0;i<s.length;i++)e(s[i])},menu:e}}();class BlinkyNewthing extends HTMLElement{static get observedAttributes(){return["threshold","expanded"]}constructor(){super()}__add_nav_container(){const t=document.createElement("span");t.classList.add("filter-menu__col"),Blinky_wrap_content({el:this,wrapper:t});const e=this.querySelector(".filter-menu__text");if(this.prepend(e),!this.querySelector("nav")){const t=document.createElement("nav");Blinky_wrap_content({el:this,wrapper:t})}}__add_menu_toggle(){const t=this.querySelector(".filter-menu__current");if(t.classList.add("button"),t.setAttribute("type","button"),t.setAttribute("aria-haspopup","true"),!this.querySelector(".filter-menu__current .button__text")){const e=document.createElement("span");e.classList.add("button__text"),Blinky_wrap_content({el:t,wrapper:e})}const e=blinky_addIcon("menu-toggle",this);t.prepend(e)}__prep_menu_list(){const t=this.querySelector(".filter-menu__list"),e=`\n\t\t\t<span class="filter-menu__nothing">\n\t\t\t\t${this.hasAttribute("no-matches")?this.getAttribute("no-matches"):"Nothing found"}\n\t\t\t</span>\n\t\t`;if(t.insertAdjacentHTML("beforeend",e),this.hasAttribute("list-width")){let e=t.hasAttribute("style")?t.getAttribute("style"):"";e+=e.match(/;[\s]*$/)?" ":"; ",t.setAttribute("style",e+"width: "+this.getAttribute("list-width"))}const s=this.querySelectorAll(".filter-menu__list ul");for(let t of s)t.classList.add("nav__group");const i=this.querySelectorAll(".filter-menu__list li");for(let t of i)t.classList.add("nav__item");const r=this.querySelectorAll(".filter-menu__list li > *:first-child");for(let t of r){t.classList.add("nav__content");const e=document.createElement("span");e.classList.add("nav__text"),Blinky_wrap_content({el:t,wrapper:e}),t.setAttribute("data-text",t.text)}}__toggle_expanded(){this.querySelector(".filter-menu__current").setAttribute("aria-expanded","1"==this.getAttribute("expanded")?"true":"false")}__search(t){const e=this.querySelectorAll(".filter-menu__list li");RegExp.quote=function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/,"\\$1")};const s=new RegExp(`(${RegExp.quote(t.value)})`,"ig");e.forEach((e=>{e.children[0].innerHTML=e.children[0].dataset.text,e.classList.remove("filter-menu__hide"),t.value&&(e.children[0].innerHTML=e.children[0].text.replace(s,"<b>$1</b>"),e.children[0].innerHTML==e.children[0].dataset.text&&e.classList.add("filter-menu__hide"))}))}__clear_filter(){const t=this.querySelector(".filter-menu__filter");t.value="",this.__search(t),this.querySelector(".filter-menu__filter").focus()}__add_filter(){const t=`\n\t\t\t<label class="filter-menu__label">\n\t\t\t\t<span class="filter-menu__span">\n\t\t\t\t\t${this.hasAttribute("label")?this.getAttribute("label"):"Filter"}\n\t\t\t\t</span>\n\t\t\t\t<input class="form__text filter-menu__filter" type="text">\n\t\t\t\t<button class="filter-menu__clear button button--small" type="button">\n\t\t\t\t\t<span class="button__text">\n\t\t\t\t\t\t${blinky_addIcon("cross",this).outerHTML}\n\t\t\t\t\t\t<span class="visually-hidden">\n\t\t\t\t\t\t\t${this.hasAttribute("clear-label")?this.getAttribute("clear-label"):"Clear"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t</label>\n\t\t`;this.querySelector(".filter-menu__list").insertAdjacentHTML("afterbegin",t);const e=this.querySelector(".filter-menu__filter");e.addEventListener("keyup",this.search=()=>{this.__search(e)}),this.event_items.push({ev:"keyup",el:e,fn:this.search});const s=this.querySelector(".filter-menu__clear");s.addEventListener("click",this.clear=()=>{this.__clear_filter()}),this.event_items.push({ev:"click",el:s,fn:this.clear})}__toggle_filter(){const t=this.getAttribute("threshold")||0,e=this.querySelectorAll(".filter-menu__list li").length;if(parseInt(t)<e)this.classList.remove("threshold-not-met");else{this.classList.add("threshold-not-met"),this.querySelector("input").value="";const t=this.querySelectorAll(".filter-menu__hide");t&&t.forEach((t=>{t.classList.remove("filter-menu__hide")}))}}connectedCallback(){this.event_items=[],this.setAttribute("expanded","0"),this.__add_nav_container(),this.__add_menu_toggle(),this.__prep_menu_list(),this.querySelector(".filter-menu__skip").remove(),this.__add_filter(),this.__toggle_filter(),this.__toggle_expanded(),this.classList.add("js__filter-menu"),this.querySelector(".filter-menu__current").addEventListener("click",this.toggle_filter_menu=t=>{this.setAttribute("expanded",Number(!JSON.parse(this.getAttribute("expanded"))))}),this.event_items.push({ev:"click",el:this,fn:this.toggle_filter_menu}),document.addEventListener("click",this.close_filter_menu_blur=t=>{t.composedPath().includes(this)||this.setAttribute("expanded","0")}),this.event_items.push({ev:"click",el:document,fn:this.close_filter_menu_blur}),document.addEventListener("keyup",this.close_filter_menu_tabout=t=>{this.matches(":focus-within")||this.setAttribute("expanded","0")}),this.event_items.push({ev:"keyup",el:document,fn:this.close_filter_menu_tabout}),this.addEventListener("keyup",this.close_filter_menu_esc=t=>{27==t.keyCode&&(this.setAttribute("expanded","0"),this.querySelector(".filter-list__current").focus())}),this.event_items.push({ev:"keyup",el:document,fn:this.close_filter_menu_esc})}disconnectedCallback(){for(let t of this.event_items)t.el.removeEventListener(t.ev,t.fn)}attributeChangedCallback(t,e,s){if(!this.classList.contains("js__filter-menu")||e===s)return!1;"threshold"==t&&this.__filter(),"expanded"==t&&this.__toggle_expanded()}}customElements.define("blinky-filter-menu",BlinkyNewthing);var form_sections=function(){var t=!1,e=function(e){var i=e.querySelectorAll("[aria-current]");if(0!==i.length)for(var r=0;r<i.length;r++)"page"==i[r].getAttribute("aria-current")&&i[r].removeAttribute("aria-current");t||(document.addEventListener("click",s),t=!0)},s=function(t){if(!t.target.closest(".form__section-list a, .form--sections fieldset"))return!1;var e="";try{e=(e=t.target.closest(".form__section-list a").hash).substring(1)}catch(s){e=t.target.closest(".form--sections fieldset").id}var s=t.target.closest(".form--sections");try{s.querySelector("[aria-current]").removeAttribute("aria-current"),s.querySelector(".fieldset--active").classList.remove("fieldset--active")}catch(t){}t.target.closest(".form--sections__menu-anchor")||(s.querySelector('a[href="#'+e+'"]').setAttribute("aria-current","step"),document.getElementById(e).classList.add("fieldset--active"))};return{init:function(t){t=t||".form--sections";var s=document.querySelector(t);s&&e(s)},setup:e}}(),step_through=function(){var t=!1,e=function(e){var r=e.querySelectorAll(".form__step");if(0!==r){for(var n=!1,a="",o=0;o<r.length;o++){a&&(r[o].setAttribute("id",a),"#"+a==window.location.hash&&r[o].classList.contains("form__step")&&(r[o].classList.add("form__step--active"),n=!0));var l=r[o].querySelector(".form__step__button");l&&(a=s(l),r[o].querySelector(".form__step__button").setAttribute("href","#"+a))}n||e.querySelector(".form__step").classList.add("form__step--active"),r[r.length-1].classList.add("form__step--last"),t||(document.addEventListener("click",i),t=!0),e.classList.add("form--step-through-css")}},s=function(t){return step_hash=t.textContent.replace(/\s+/g,"_"),step_hash=step_hash.replace(/\W/g,""),step_hash},i=function(t){if(t.target.closest(".form__step__button")){var e=t.target.closest(".form__step").querySelector("[aria-invalid=true]"),s=t.target.parentNode.querySelector(".form__step__noproceedmsg");if(e)t.preventDefault(),s.setAttribute("role","alert"),s.querySelector("span").innerHTML=t.target.closest(".form--step-through").getAttribute("data-no-advance");else{try{s.removeAttribute("role"),s.querySelector("span").innerHTML=""}catch(t){}t.target.closest(".form--step-through").querySelector(".form__step--active").classList.add("form__step--completed"),t.target.closest(".form--step-through").querySelector(".form__step--active").classList.remove("form__step--active"),t.target.closest(".form--step-through").querySelector(t.target.getAttribute("href")).classList.add("form__step--active")}}};return{init:function(t){t=t||".form--step-through";var s=document.querySelectorAll(t);if(0!==s.length)for(var i=0;i<s.length;i++)e(s[i])},step_through:e}}(),form_steps=function(){let t=!1,e=-1,s=t=>{let e=t.step.closest(".form-steps").getAttribute("data-id"),s="st";e&&(s=e+"-"+s),t.step.setAttribute("id",s+t.i),t.step.closest(".form-steps--hide-previous-fields.form-steps--clickable-legends")&&(t=>{alink=document.createElement("a"),alink.setAttribute("href",t.href);let e=t.step.querySelectorAll(".form-steps__title");if(!e)return!1;alink.innerHTML=e[0].innerHTML;for(let t of e)t.textContent="",t.appendChild(alink.cloneNode(!0))})({step:t.step,href:"#"+s+t.i});let i=t.i+1,r=t.i-1;if(r>=0){let e=t.step.querySelector(".form__step__button-back");e&&e.setAttribute("href","#"+s+r)}if(i<t.length){let e=t.step.querySelector(".form__step__button");e&&e.setAttribute("href","#"+s+i)}},i=t=>{let e=["form-steps__step--complete","form-steps__step--incomplete"],s=0;for(let i of t)i.classList.remove("form-steps__step--complete","form-steps__step--incomplete"),i.classList.contains("form-steps__step--active")?s=1:i.classList.add(e[s])},r=r=>{e++,r.setAttribute("data-id","stb"+e),r.classList.add("js__form-steps");let a,o=r.querySelectorAll(".form-steps__step");if(0!==o){for(const[t,e]of o.entries())s({step:e,i:t,length:o.length});a=window.location.hash&&document.querySelector(window.location.hash)?document.querySelector(window.location.hash):document.querySelector('[data-id="stb'+e+'"] .form-steps__step:first-child'),a.classList.add("form-steps__step--active"),i(o),o[o.length-1].classList.add("form-steps__step--last"),t||(document.addEventListener("click",n),t=!0)}},n=t=>{if(t.target.closest(".form__step__button")||t.target.closest(".form__step__button-back")||t.target.closest(".form-steps__title a")){let e=t.target.closest(".form-steps__step").querySelector("[aria-invalid=true]"),s=t.target.parentNode.querySelector(".form-steps__error");if(e)t.preventDefault(),s.setAttribute("role","alert"),s.querySelector("span").innerHTML=t.target.closest(".form-steps").getAttribute("data-step-error");else{try{s.removeAttribute("role"),s.querySelector("span").innerHTML=""}catch(t){}t.target.closest(".form-steps").querySelector(".form-steps__step--active").classList.remove("form-steps__step--active"),t.target.closest(".form-steps").querySelector(t.target.getAttribute("href")).classList.add("form-steps__step--active");const e=t.target.closest(".form-steps").querySelector(t.target.getAttribute("href"));setTimeout((function(){e.scrollIntoView()}),300),t.x+t.y===0&&(t=>{let e=t.querySelector("input:not([type=hidden]), textarea, select, button");e&&setTimeout((()=>{e.contentEditable=!0,e.focus(),e.contentEditable=!1}),300)})(t.target.closest(".form-steps").querySelector(t.target.getAttribute("href")));let r=t.target.closest(".form-steps").querySelectorAll(".form-steps__step");i(r)}}};return{init:t=>{t=t||".form-steps";let e=document.querySelectorAll(t);if(0!==e.length)for(let t of e)r(t)},form_steps:r}}(),help_toggle=function(){var t=function(t){t&&(t.tagName||(t=document.querySelector(t)),t&&t.addEventListener("click",(function(t){"false"==t.target.getAttribute("aria-expanded")?t.target.setAttribute("aria-expanded",!0):t.target.setAttribute("aria-expanded",!1),t.target.parentElement.classList.toggle("form__help-text--open"),t.preventDefault()}),!1))};return{init:function(e){var s;for(s=e?document.querySelectorAll(e):document.querySelectorAll(".form__help-toggle"),i=0;i<s.length;i++)t(s[i])},toggle:t}}(),multi_suggest=function(){var t=!1,e={up:0,down:0},s=function(e){e.tagName||(e=document.querySelector(e)),e.classList.add("js__multilist"),c(e.querySelector(".multilist__list")),t||(document.addEventListener("keydown",n),document.addEventListener("keyup",a),document.addEventListener("click",d),t=!0),e.querySelector(".multilist__list").addEventListener("blur",r)},r=function(t){t.target.selectedIndex=-1},n=function(t){t.target.closest(".js__multilist")&&(37!==t.keyCode&&39!==t.keyCode&&13!==t.keyCode||t.preventDefault())},a=function(t){if(t.target.closest(".js__multilist"))if(t.target.classList.contains("multilist__field"))if(40===t.keyCode){if(t.target.nextElementSibling.classList.contains("multilist__list--empty"))return;t.target.nextElementSibling.selectedIndex=-1,t.target.nextElementSibling.focus(),e.up=1,e.down=0,t.target.nextElementSibling.querySelector("option:not(.hide)").selected=!0,l(t.target.nextElementSibling)}else if(38===t.keyCode){if(t.target.nextElementSibling.classList.contains("multilist__list--empty"))return;t.target.nextElementSibling.selectedIndex=-1,t.target.nextElementSibling.focus(),e.up=0,e.down=1,t.target.nextElementSibling.querySelector("option:not(.hide):last-child").selected=!0,l(t.target.nextElementSibling)}else{var s=t.target.value.split(" "),r=s[s.length-1],n=document.getElementById(t.target.getAttribute("aria-owns")).children,a=document.getElementById(t.target.getAttribute("aria-owns"));for(i=0;i<n.length;i++)n[i].classList.remove("hide"),void 0===r||n[i].innerText.toLowerCase().includes(r)||n[i].classList.add("hide");c(a)}else if("SELECT"==t.target.tagName){if(37===t.keyCode||39===t.keyCode||13===t.keyCode)return u(t,t.target[t.target.selectedIndex].value),t.preventDefault(),!1;40===t.keyCode&&(e.up=0,e.down?(t.target.previousElementSibling.focus(),e.down=0):l(t.target)),38===t.keyCode&&(e.down=0,e.up?(t.target.previousElementSibling.focus(),e.up=0):o(t.target))}},o=function(t){var s=t.querySelectorAll("option:not(.hide)");e.up=t[t.selectedIndex].value===s[0].value?1:0},l=function(t){var s=t.querySelectorAll("option:not(.hide)");e.down=t[t.selectedIndex].value===s[s.length-1].value?1:0},c=function(t){var e=t.querySelectorAll("option:not(.hide)").length;e>0?(t.setAttribute("size",e),t.classList.remove("multilist__list--empty")):(t.setAttribute("size",1),t.classList.add("multilist__list--empty"))},u=function(t,e){var s=t.target.closest(".form__multilist").querySelector(".multilist__field"),r=s.value.split(" ");r.pop(),r.push(e),s.value=r.join(" ")+" ";var n=t.target.closest(".form__multilist").querySelectorAll(".hide");for(i=0;i<n.length;i++)n[i].classList.remove("hide");s.focus(),c(t.target.closest(".multilist__list"))},d=function(t){t.target.closest(".multilist__list")&&u(t,t.target.textContent)};return{init:function(t){t=t||".form__multilist";var e=document.querySelectorAll(t);if(0!==e.length)for(var i=0;i<e.length;i++)s(e[i])},setup:s}}();class BlinkyObfuscatedField extends HTMLElement{static get observedAttributes(){return["state"]}constructor(){super()}__add_toggle(){const t=document.createElement("blinky-toggle-button");t.setAttribute("type","icon-only"),t.setAttribute("button-class","button button--small form__obfuscated__toggle"),t.setAttribute("icon-0",this.getAttribute("icon-0")||"view-hidden"),t.setAttribute("text-0",this.getAttribute("text-0")||"Show"),t.setAttribute("icon-1",this.getAttribute("icon-1")||"view"),t.setAttribute("text-1",this.getAttribute("text-1")||"Hide"),t.setAttribute("toggled",this.getAttribute("state")||"0"),this.append(t),t.querySelector(".button").addEventListener("click",this.toggle_state=()=>{this.setAttribute("state",t.getAttribute("toggled"))}),this.event_items=[],this.event_items.push({ev:"click",el:t.querySelector(".button"),fn:this.toggle_state})}__add_aria(){const t=document.createElement("span");t.classList.add("visually-hidden"),t.setAttribute("aria-live","polite"),this.append(t)}__change_state(){this.querySelector("input").setAttribute("type",["password","text"][this.getAttribute("state")]),this.querySelector("blinky-toggle-button").setAttribute("toggled",this.getAttribute("state"))}__update_aria(){this.querySelector("[aria-live]").innerText=this.aria_text[this.getAttribute("state")]}__submit_pass(){if("0"===(this.getAttribute("submit-pass")||"0")){const t=this.closest("form");t&&(t.addEventListener("submit",this.submit_form=t=>{this.setAttribute("state","0")}),this.event_items.push({ev:"submit",el:t,fn:this.submit_form}))}}connectedCallback(){this.__add_toggle(),this.__add_aria(),this.aria_text=[],this.aria_text.push(this.getAttribute("aria-0")||"Your field content is hidden from view."),this.aria_text.push(this.getAttribute("aria-1")||"Your field content is being displayed in plain text."),this.hasAttribute("state")||this.setAttribute("state","0"),this.__change_state(),"1"===this.getAttribute("state")&&this.__update_aria(),this.classList.add("js__form__obfuscated"),this.__submit_pass()}disconnectedCallback(){for(let t of this.event_items)t.el.removeEventListener(t.ev,t.fn)}attributeChangedCallback(t,e,s){if(!this.classList.contains("js__form__obfuscated")||e===s)return!1;"state"===t&&(this.__change_state(),this.__update_aria())}}customElements.define("blinky-obfuscated-field",BlinkyObfuscatedField);var switch_toggle=function(){var t=!1,e=function(e){e.classList.add("js__form__switch"),t||(document.addEventListener("click",s),t=!0)},s=function(t){if(!t.target.closest(".js__form__switch"))return!1;switched="true"===t.target.getAttribute("aria-pressed"),t.target.setAttribute("aria-pressed",String(!switched))};return{init:function(t){t=t||".form__switch";var s=document.querySelectorAll(t);if(0!==s.length)for(var i=0;i<s.length;i++)e(s[i])},setup:e}}();class BlinkyChildFields extends HTMLElement{static get observedAttributes(){return["expanded"]}constructor(){super()}__add_connection(t){let e="";e=this.querySelector(":scope > .children").id?this.querySelector(":scope > .children").id:t.id?"connection-"+t.id:"connection-"+Date.now(),t.setAttribute("aria-controls",e),this.querySelector(":scope > .children").id=e}__update_aria_expanded(){this.querySelector(":scope > .children").setAttribute("aria-expanded",this.getAttribute("expanded")),this.__toggle(),this.__set_disabled_attribute()}__set_disabled_attribute(){let t=this.querySelectorAll("\n\t\t\t\t:scope .children input:not([type=submit]),\n\t\t\t\t:scope .children textarea,\n\t\t\t\t:scope .children select\n\t\t\t"),e=this.querySelectorAll("\n\t\t\t\t:scope .children .children input:not([type=submit]),\n\t\t\t\t:scope .children .children textarea,\n\t\t\t\t:scope .children .children select\n\t\t\t"),s=Array.from(e),i=this.getAttribute("expanded");for(let e of t)s.includes(e)||("true"==i?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled"))}__toggle(){const t=this.querySelectorAll(":scope blinky-child-fields");if("false"===this.getAttribute("expanded")){if(t.length>0)for(let e of t)e.setAttribute("expanded","false")}else if(t.length>0)for(let e of t){const t=e.querySelector(":scope .js__parent");if(t&&t.checked){const t=e.parentNode.closest("blinky-child-fields");t&&"true"==t.getAttribute("expanded")&&e.setAttribute("expanded","true")}}}connectedCallback(){const t=this.querySelector(':scope > input[type="radio"], :scope > input[type="checkbox"]');if(!t)return!1;if(!this.querySelector("\n\t\t\t\t:scope > .children input,\n\t\t\t\t:scope > .children textarea,\n\t\t\t\t:scope > .children select"))return!1;this.__add_connection(t);const e=this.querySelector(":scope > .children");e.setAttribute("aria-expanded","false"),this.setAttribute("expanded","false"),t.classList.add("js__parent"),this.classList.add("js__form__child-fields"),e.classList.add("form__child-fields");const s=document.createElement("span");if(s.classList.add("form__child-fields__inner"),Blinky_wrap_content({el:e,wrapper:s}),this.event_items=[],"radio"===t.type){const s=document.querySelectorAll('input[type="radio"][name="'+t.getAttribute("name")+'"]');for(let t of s)t.addEventListener("change",this.untoggle_children=t=>{this.setAttribute("expanded","false"),e.setAttribute("aria-expanded","false")}),this.event_items.push({ev:"change",el:t,fn:this.untoggle_children})}t.addEventListener("change",this.toggle_children=t=>{this.setAttribute("expanded",t.target.checked?"true":"false"),e.setAttribute("aria-expanded",t.target.checked?"true":"false")}),this.event_items.push({ev:"change",el:t,fn:this.toggle_children}),this.__update_aria_expanded(),t.getAttribute("checked")&&(e.setAttribute("aria-expanded","true"),this.setAttribute("expanded","true"))}disconnectedCallback(){for(let t of this.event_items)t.el.removeEventListener(t.ev,t.fn)}attributeChangedCallback(t,e,s){if(!this.classList.contains("js__form__child-fields")||e===s)return!1;"expanded"===t&&this.__update_aria_expanded()}}customElements.define("blinky-child-fields",BlinkyChildFields);var fieldset_group=function(){var t=function(t){t&&t.selector&&(null==t.clear_hidden&&(t.clear_hidden="false"),t.selector.classList.contains("js__fieldset-group")||(t.selector.classList.add("js__fieldset-group"),t.selector.setAttribute("data-clear-hidden",t.clear_hidden),document.addEventListener("change",e),e({target:t.selector.querySelector('input[checked="checked"]')})))},e=function(t){if(t.target.closest(".js__fieldset-group")&&null!==t.target.getAttribute("aria-controls")&&t.target.hasAttribute("aria-controls")&&t.target.closest(".fieldset-group").classList.contains("js__fieldset-group")){var e=t.target.getAttribute("aria-controls"),s="";t.target.closest(".js__fieldset-group").querySelector('[aria-expanded="true"]')&&(s=t.target.closest(".js__fieldset-group").querySelector('[aria-expanded="true"]').id),e!==s&&"true"==t.target.closest(".js__fieldset-group").getAttribute("data-clear-hidden")&&function(t){if(t){var e=t.querySelectorAll("input:not([type=submit]), textarea, select");if(0!==e.length){for(var s=0;s<e.length;s++)"radio"==e[s].type||"checkbox"==e[s].type?e[s].checked=!1:e[s].value="";var i=t.querySelectorAll(".js__large-radio--selected");if(0!==i.length)for(var r=0;r<i.length;r++)i[r].classList.remove("js__large-radio--selected")}}}(t.target.closest(".js__fieldset-group").querySelector('[aria-expanded="true"]'));var i=t.target.closest(".js__fieldset-group").querySelectorAll("fieldset[aria-expanded=true]");if(i.length>0)for(var r=0;r<i.length;r++)i[r].setAttribute("aria-expanded","false");""!=e&&(t.target.closest(".js__fieldset-group").querySelector("#"+e).setAttribute("aria-expanded","true"),"change"===t.type&&t.target.closest(".js__fieldset-group").querySelector("#"+e).scrollIntoView())}};return{init:function(e){e||(e={}),null==e.selector&&(e.selector=".fieldset-group"),null==e.clear_hidden&&(e.clear_hidden="false");var s=document.querySelectorAll(e.selector);if(0!==s.length)for(var i=0;i<s.length;i++)t({selector:s[i],clear_hidden:e.clear_hidden})},prep:t}}(),file_upload_prettifier=function(){var t=function(t){var e="";if(t.files.length>0)for(i=0;i<t.files.length;i++)e+='<span><svg class="icon" width="1em" height="1em" viewBox="0 0 16 16" aria-hidden="true" focusable="false"><use href="'+ui_path({el:t})+'ui/images/icons.svg#icon-page"></use></svg> '+t.files[i].name+"</span>";t.nextSibling.nextSibling.innerHTML=e},e=function(e){if(e){e.tagName||(e=document.querySelector(e)),file_list=document.createElement("span"),file_list.setAttribute("class","form__file__name"),e.parentNode.insertBefore(file_list,e.nextSibling),drag=document.createElement("span"),drag.setAttribute("class","form__file__drag"),drag.innerHTML="Drag file",null!==e.getAttribute("multiple")&&(drag.innerHTML+="s"),drag.innerHTML+=' here to upload or <span class="button form__file__button">Browse</span> to upload',e.parentNode.insertBefore(drag,e.nextSibling),function t(){drag.offsetHeight?e.setAttribute("style","height: "+drag.offsetHeight+"px; width: "+drag.offsetWidth+"px"):window.requestAnimationFrame(t)}(),e.addEventListener("change",(function(){t(e)}),!0);var s=0;e.addEventListener("dragenter",(function(){s++,e.classList.add("form__file__drag-active")}),!0),e.addEventListener("dragleave",(function(){!function(t){0==--s&&t.classList.remove("form__file__drag-active")}(e)}),!0),e.addEventListener("drop",(function(){!function(t){s=0,t.classList.remove("form__file__drag-active")}(e)}),!0),t(e)}};return{init:function(t){var s;for(s=t?document.querySelectorAll(t):document.querySelectorAll(".form__file"),i=0;i<s.length;i++)e(s[i])},prettify:e}}();class BlinkyProgress extends HTMLElement{static get observedAttributes(){return["b-value","b-max","b-type"]}constructor(){super()}connectedCallback(){if(!this.getAttribute("data-init")){const t=this.querySelector("progress");t.setAttribute("class","visually-hidden");let e="circle"==this.getAttribute("b-type")?"circle":"line";const s=document.createElement("span");s.setAttribute("class","progress__box progress__box--"+e),s.setAttribute("aria-hidden","true"),t.after(s);const i=document.createElement("span");if(i.setAttribute("class","progress__fish"),this.hasAttribute("b-value")&&i.setAttribute("style","width: 0%"),s.appendChild(i),"circle"!=e){let t=Math.floor(s.offsetWidth/4);t<100&&(t=100),s.setAttribute("style","--speed: "+t+"ms"),this.animation_speed=t}}this.setAttribute("data-init","1")}disconnectedCallback(){}__update_value(t,e,s){if(!s)return!1;const i=this.querySelector("progress");if(i.setAttribute(t.substring(2),s),"b-value"==t){i.innerText=s+"%";const t=this.querySelector(".progress__fish");t&&t.setAttribute("style","width: "+s+"%"),"100"==s&&setTimeout((()=>{this.dispatchEvent(new CustomEvent("progressBarFull",{bubbles:!0,el:this}))}),this.animation_speed)}}attributeChangedCallback(t,e,s){this.getAttribute("data-init")||this.connectedCallback(),"circle"!=("circle"==this.getAttribute("b-type")?"circle":"line")&&this.__update_value(t,e,s)}}customElements.define("blinky-progress",BlinkyProgress);var blinky_progress={add:function(t){if(!t.el)return!1;let e=document.createElement("blinky-progress");e.setAttribute("class","progress");let s=document.createElement("progress");e.appendChild(s),"BUTTON"!=t.el.tagName&&"LI"!=t.el.tagName||(t.type="line"),t.type&&e.setAttribute("b-type",t.type),t.value&&e.setAttribute("b-value",t.value),t.max&&e.setAttribute("b-max",t.max),t.id&&e.setAttribute("id",t.id),t.label&&s.setAttribute("aria-label",t.label),t.el.append(e)},remove:function(t){if(!t.el)return!1;t.el.remove()}},theme_switcher_template=document.createElement("template");theme_switcher_template.innerHTML='\n\t<style>\n\t\t.theme-switch .button {\n\t\t\tmargin: 0;\n\t\t\ttext-align: left;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t\t.theme-switch {\n\t\t\tdisplay: inline-flex;\n\t\t\tflex-direction: column;\n\t\t\tposition: relative;\n\t\t}\n\t\t.theme-switcher__options {\n\t\t\tflex-direction: column;\n\t\t\tposition: absolute;\n\t\t\ttop: calc(100% - 3px);\n\t\t}\n\t\t.theme-switch.theme-switch--right .theme-switcher__options {\n\t\t\tright: 0;\n\t\t}\n\t\t.theme-switch.theme-switch--up .theme-switcher__options {\n\t\t\tbottom: calc(100% - 3px);\n\t\t\ttop: auto;\n\t\t}\n\t\t\n\t\t.theme-switch__chooser[aria-expanded="false"] + .theme-switcher__options {\n\t\t\tdisplay: none;\n\t\t}\n\t\t.theme-switch__chooser[aria-expanded="true"] + .theme-switcher__options {\n\t\t\tdisplay: inline-flex;\n\t\t}\n\t\t.theme-switch .icon {\n\t\t\tdisplay: none;\n\t\t}\n\t\t.theme-switch [data-theme="theme--light"] [data-id="theme--light"], \n\t\t.theme-switch [data-theme="theme--system"] [data-id="theme--system"], \n\t\t.theme-switch [data-theme="theme--dark"] [data-id="theme--dark"] {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t\t.theme-switch [aria-pressed="true"] {\n\t\t\tbackground: rgb(var(--tango)) !important;\n\t\t\tcolor: rgb(var(--menu-current-text))!important;\n\t\t}\n\t\t.theme-switch [aria-pressed="true"] .icon {\n\t\t\tfill: rgb(var(--menu-current-text));\n\t\t}\n\t\t\n\t\t.theme-switcher__options .button:first-child {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t\t.theme-switcher__options .button[data-id="theme--system"] {\n\t\t\tborder-radius: 0;\n\t\t}\n\t\t.theme-switcher__options .button:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-top-right-radius: 0;\n\t\t}\n\t</style>\n\t<section class="theme-switch" aria-labelledby="theme-switch__title">\n\t\t<button class="button theme-switch__chooser" aria-haspopup="true" aria-expanded="false">\n\t\t\t<svg class="icon" data-id="theme--light" width="1em" height="1em" viewBox="0 0 16 16" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><ellipse cx="8.015" cy="7.583" rx="5.372" ry="5.76" transform="matrix(.93073 0 0 .86806 .555 1.418)"/><path d="M7.5 0h1v2h-1zM7.5 14h1v2h-1zM0 8.5v-1h2v1zM14 8.5v-1h2v1zM1.99 2.697l.707-.707 1.414 1.414-.707.707zM11.89 12.596l.707-.707 1.414 1.415-.707.707zM2.697 14.01l-.707-.707 1.414-1.414.707.707zM12.596 4.11l-.707-.707 1.415-1.414.707.707z"/></svg>\n\t\t\t<svg class="icon" data-id="theme--system" width="1em" height="1em" viewBox="0 0 16 16" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path style="fill:none" d="M17.615.019h.737v5.004h-.737z" transform="matrix(21.7105 0 0 3.19767 -382.422 -.062)"/><path d="M6.998 11h2v1h-2zM4.998 12h6v1h-6zM13.999 3h-12v8h12V3Zm-1.5 1.5h-9v5h9v-5Z"/></svg>\n\t\t\t<svg class="icon" data-id="theme--dark" width="1em" height="1em" viewBox="0 0 16 16" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path style="fill:none" d="M17.615.019h.737v5.004h-.737z" transform="matrix(21.7105 0 0 3.19767 -382.422 -.062)"/><path d="M10.513 13.455A6.003 6.003 0 0 1 2.013 8a6.003 6.003 0 0 1 8.5-5.455A6.003 6.003 0 0 0 7.013 8a6.004 6.004 0 0 0 3.5 5.455Z"/></svg>\n\t\t\t<span class="button__text"></span>\n\t\t</button>\n\t\t\n\t\t<span class="theme-switcher__options">\n\t\t\t<button data-id="theme--light" class="button">\n\t\t\t\t<span class="button__text"></span>\n\t\t\t</button><button data-id="theme--system" class="button">\n\t\t\t\t<span class="button__text"></span>\n\t\t\t</button><button data-id="theme--dark" class="button">\n\t\t\t\t<span class="button__text"></span>\n\t\t\t</button>\n\t\t</span>\n\t</section>\n';class ThemeSwitcher extends HTMLElement{connectedCallback(){this.innerHTML=theme_switcher_template.innerHTML;var t;try{t=JSON.parse(this.attributes.settings.value)[0]}catch(t){}t=Object.assign({default_theme:"light",title:"Choose Theme",light:"Light",system:"Follow System",dark:"Dark",display_label:"true",h_align:"left",v_align:"down"},t);var e=this.querySelectorAll("button");if(e)for(var s=0;e.length>s;s++)e[s].classList.contains("theme-switch__chooser")?"false"===t.display_label&&e[s].querySelector(".button__text").classList.add("visually-hidden"):e[s].setAttribute("aria-pressed","false");this.add_class(this.get_cookie("theme_setting",t.default_theme)||"theme--"+t.default_theme),this.querySelector(".theme-switch").classList.add("theme-switch--"+t.h_align,"theme-switch--"+t.v_align),this.querySelector('.theme-switcher__options [data-id="'+(this.get_cookie("theme_setting",t.default_theme)||"theme--"+t.default_theme)+'"]').setAttribute("aria-pressed","true"),this.querySelector(".theme-switch__chooser .button__text").innerHTML=t.title,this.querySelector('[data-id="theme--light"] .button__text').innerHTML=t.light,this.querySelector('[data-id="theme--system"] .button__text').innerHTML=t.system,this.querySelector('[data-id="theme--dark"] .button__text').innerHTML=t.dark,this.querySelector(".theme-switch__chooser").setAttribute("data-theme",this.get_cookie("theme_setting",t.default_theme)||"theme--"+t.default_theme),document.addEventListener("click",this,!0)}handleEvent(t){"click"===t.type&&(t.target.closest(".theme-switch")?t.target.classList.contains("theme-switch__chooser")?this.chooser(t):this.action(t):this.close_chooser(t))}close_chooser(t){document.querySelector(".theme-switch__chooser").setAttribute("aria-expanded","false")}chooser(t){t.target.setAttribute("aria-expanded","true"===t.target.getAttribute("aria-expanded")?"false":"true")}add_class(t){document.querySelector("body").classList.remove("theme--light","theme--dark","theme--system"),document.querySelector("body").classList.add(t)}get_cookie(t,e){var s=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return s?s[2]:null}set_cookie(t,e,s){var i=new Date;i.setTime(i.getTime()+864e5*s),document.cookie=t+"="+e+";path=/;expires="+i.toGMTString()}action(t){this.set_cookie("theme_setting",t.target.dataset.id,3650),this.add_class(t.target.dataset.id),t.target.closest(".theme-switch").querySelector('[aria-pressed="true"]').setAttribute("aria-pressed","false"),t.target.setAttribute("aria-pressed","true"),t.target.closest(".theme-switch").querySelector(".theme-switch__chooser").setAttribute("data-theme",t.target.dataset.id),t.target.closest(".theme-switch").querySelector(".theme-switch__chooser").setAttribute("aria-expanded","false")}}customElements.define("theme-switch",ThemeSwitcher);